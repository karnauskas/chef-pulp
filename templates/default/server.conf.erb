# This file is managed by Chef

[database]
name: <%= @conf['database']['name'] %>
seeds: <%= @conf['database']['seeds'] %>
operation_retries: <%= @conf['database']['operation_retries'] %>
<% unless @conf['database']['replica_set_name'] == nil %>
replica_set: <%= @conf['database']['replica_set_name'] %>
<% end %>

[server]
server_name: <%= @conf['server_name'] %>
key_url: <%= @conf['key_url'] %>
ks_url: <%= @conf['ks_url'] %>
default_login: <%= @conf['default_login'] %>
default_password: <%= @conf['default_password'] %>
debugging_mode: <%= @conf['debugging_mode'].to_s %>

[security]
cacert: <%= @conf['security']['cacert'] %>
cakey: <%= @conf['security']['cakey'] %>
ssl_ca_certificate: <%= @conf['security']['ssl_ca_certificate'] %>
user_cert_expiration: <%= @conf['security']['user_cert_expiration'] %>
consumer_cert_expiration: <%= @conf['security']['consumer_cert_expiration'] %>
serial_number_path: <%= @conf['security']['serial_number_path'] %>

[consumer_history]
lifetime: <%= @conf['consumer_history']['lifetime'] %>

[coordinator]
task_state_poll_interval: <%= @conf['coordinator']['task_state_poll_interval'] %>

[data_reaping]
reaper_interval: <%=  @conf['data_reaping']['reaper_interval'] %>
archived_calls: <%=  @conf['data_reaping']['archived_calls'] %>
consumer_history: <%=  @conf['data_reaping']['consumer_history'] %>
repo_sync_history: <%=  @conf['data_reaping']['repo_sync_history'] %>
repo_publish_history: <%=  @conf['data_reaping']['repo_publish_history'] %>
repo_group_publish_history: <%=  @conf['data_reaping']['repo_group_publish_history'] %>

<%- if @conf['ldap']['enabled'] -%>
[ldap]
enabled: <%= @conf['ldap']['enabled'].to_s %>
uri: <%= @conf['ldap']['uri'] %>
base: <%= @conf['ldap']['base'] %>
tls: <%= @conf['ldap']['tls'] ? "yes" : "no" %>
default_role: <%= @conf['ldap']['default_role'] %>
filter: <%= @conf['ldap']['filter'] %>
<% end %>

[oauth]
enabled: <%= @conf['oauth']['enabled'].to_s %>
oauth_key: <%= @conf['oauth']['oauth_key'] %>
oauth_secret: <%= @conf['oauth']['oauth_secret'] %>

[logs]
config: <%= @conf['logs']['config'] %>
db_config: <%= @conf['logs']['db_config'] %>

[messaging]
url: <%= @conf['messaging']['url'] %>
cacert: <%= @conf['messaging']['cacert'] %>
clientcert: <%= @conf['messaging']['clientcert'] %>
topic_exchange: <%= @conf['messaging']['topic_exchange'] %>
install_timeout: <%= @conf['messaging']['install_timeout'] %>
update_timeout: <%= @conf['messaging']['update_timeout'] %>
uninstall_timeout: <%= @conf['messaging']['uninstall_timeout'] %>
bind_timeout: <%= @conf['messaging']['bind_timeout'] %>
unbind_timeout: <%= @conf['messaging']['unbind_timeout'] %>

[scheduler]
dispatch_interval: <%= @conf['scheduler']['dispatch_interval'] %>

[tasks]
concurrency_threshold: <%= @conf['tasks']['concurrency_threshold'] %>
dispatch_interval: <%= @conf['tasks']['dispatch_interval'] %>
archived_call_lifetime: <%= @conf['tasks']['archived_call_lifetime'] %>
consumer_content_weight: <%= @conf['tasks']['consumer_content_weight'] %>
create_weight: <%= @conf['tasks']['create_weight'] %>
publish_weight: <%= @conf['tasks']['publish_weight'] %>
sync_weight: <%= @conf['tasks']['sync_weight'] %>

[email]
enabled: <%= @conf['email']['enabled'].to_s %>
host: <%= @conf['email']['host'] %>
port: <%= @conf['email']['port'] %>
from: <%= @conf['email']['from'] %>
